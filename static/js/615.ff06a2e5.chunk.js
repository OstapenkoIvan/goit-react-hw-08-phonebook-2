"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[615],{7359:function(e,t,a){a.d(t,{Z:function(){return g}});var r=a(885),n=a(2791),s=a(4925),l=["title","titleId"];var i=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,i=(0,s.Z)(e,l);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},i),a?n.createElement("title",{id:r},a):null,n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-11.25a.75.75 0 00-1.5 0v2.5h-2.5a.75.75 0 000 1.5h2.5v2.5a.75.75 0 001.5 0v-2.5h2.5a.75.75 0 000-1.5h-2.5v-2.5z",clipRule:"evenodd"}))})),o=["title","titleId"];var d=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,l=(0,s.Z)(e,o);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},l),a?n.createElement("title",{id:r},a):null,n.createElement("path",{d:"M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"}),n.createElement("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"}))})),c=["title","titleId"];var u=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,l=(0,s.Z)(e,c);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},l),a?n.createElement("title",{id:r},a):null,n.createElement("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"}))})),m=a(3329);function g(e){var t=e.handleSubmit,a=e.name,s=void 0===a?"":a,l=e.number,o=void 0===l?"":l,c=e.submitName,g=e.add,f=e.edit,x=e.login,h=e.register,p=(0,n.useState)(""),b=(0,r.Z)(p,2),v=b[0],w=b[1],y=(0,n.useState)(""),j=(0,r.Z)(y,2),N=j[0],C=j[1],k=(0,n.useState)(""),z=(0,r.Z)(k,2),E=z[0],A=z[1],Z=(0,n.useState)(""),M=(0,r.Z)(Z,2),I=M[0],F=M[1];(0,n.useEffect)((function(){w(s),C(o)}),[s,o]);var R=function(e){switch(e.target.name){case"name":w(e.target.value);break;case"number":C(e.target.value);break;case"email":A(e.target.value);break;case"password":F(e.target.value)}};return(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({evt:e,setName:w,setNumber:C,setEmail:A,setPassword:F})},className:"mt-5 px-2 sm:px-3",autoComplete:"off",children:[(g||f)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{htmlFor:"name",className:"block text-lg font-medium text-gray-700",children:"Name"}),(0,m.jsx)("input",{className:"block w-full rounded-md border border-gray-300 px-4 py-2 leading-6 drop-shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",id:"name",name:"name",type:"text",value:v,onChange:R,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,m.jsx)("label",{htmlFor:"number",className:"mt-5 block text-lg font-medium text-gray-700",children:"Phone number"}),(0,m.jsx)("input",{className:"block w-full rounded-md border border-gray-300 px-4 py-2 leading-6 drop-shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",id:"number",name:"number",type:"tel",value:N,onChange:R,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(x||h)&&(0,m.jsxs)("div",{className:"-space-y-px rounded-md shadow-sm",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,m.jsx)("input",{className:"relative block w-full appearance-none rounded-none rounded-t-md border border-gray-300 px-3 py-2 leading-6 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",id:"email",name:"email",type:"email",value:E,onChange:R,autoComplete:"email",placeholder:"Email address",required:!0})]}),h&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Name"}),(0,m.jsx)("input",{className:"relative block w-full appearance-none border border-gray-300 px-3 py-2 leading-6 text-gray-900 placeholder-gray-500 focus:border-b-2  focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",id:"name",name:"name",type:"text",value:v,onChange:R,placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,m.jsx)("input",{className:"relative block w-full appearance-none rounded-none rounded-b-md border border-gray-300 px-3  py-2 leading-6 text-gray-900 placeholder-gray-500 focus:z-10 focus:border-t focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",id:"password",name:"password",type:"password",value:I,onChange:R,autoComplete:"current-password",placeholder:"Password",required:!0})]})]}),(0,m.jsxs)("button",{type:"submit",className:" mx-auto mt-5 flex items-center rounded-md border border-transparent bg-indigo-500 px-4 py-2 text-sm font-medium text-white shadow-sm drop-shadow-sm transition duration-150 ease-in-out hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[g&&(0,m.jsx)(i,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),f&&(0,m.jsx)(d,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),x&&(0,m.jsx)(u,{className:"-ml-1 mr-2 h-5 w-5 text-indigo-300 group-hover:text-indigo-400","aria-hidden":"true"}),c]})]})}},7615:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var r=a(885),n=a(2791),s=a(9434),l=a(1438),i=a(3829),o=a(7359),d=a(3329);var c=function(){var e=(0,s.I0)(),t=(0,s.v9)(l.Af);return(0,d.jsx)(o.Z,{handleSubmit:function(a){var r=a.evt,n=a.setName,s=a.setNumber,l=r.target.elements.name.value,o=r.target.elements.number.value;return t.some((function(e){return e.name===l}))?(r.target.reset(),alert("Contact with this name already exist, please enter another name \ud83c\udf1a")):t.some((function(e){return e.number===o}))?(r.target.reset(),alert("Contact with this number already exist, please enter another number \ud83d\udcf1")):(e((0,i.addContact)({name:l,number:o})),n(""),void s(""))},submitName:"Add contact",add:!0})},u=a(2446),m=a(4925),g=["title","titleId"];var f=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,s=(0,m.Z)(e,g);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{d:"M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"}))})),x=["title","titleId"];var h=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,s=(0,m.Z)(e,x);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z",clipRule:"evenodd"}))})),p=a(4164),b=document.querySelector("#modal-root");function v(e){var t=e.name,a=e.number,r=e.id,i=e.onClose,c=(0,s.I0)(),m=(0,s.v9)(l.Af);(0,n.useEffect)((function(){var e=function(e){"Escape"===e.code&&i(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[i]);return(0,p.createPortal)((0,d.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-500 bg-opacity-75 transition-opacity",onClick:function(e){e.target===e.currentTarget&&i(!1)},children:(0,d.jsxs)("section",{className:"h-6/12 w-10/12 flex-shrink-0 transform overflow-hidden rounded-lg border border-gray-300 bg-gray-50 px-2 pb-4 shadow-xl drop-shadow-sm transition-all sm:w-8/12",children:[(0,d.jsx)("h2",{className:"mt-4 self-center text-center text-xl leading-5 text-gray-500 sm:text-2xl",children:"Edit contact"}),(0,d.jsx)(o.Z,{handleSubmit:function(e){var t=e.evt,a=(e.setName,e.setNumber,t.target.elements.name.value),n=t.target.elements.number.value,s=m.filter((function(e){return e.id!==r})),l=m.find((function(e){return e.id===r})),o={id:r};return s.some((function(e){return e.name===a}))?alert("Contact with this name already exist, please enter another name \ud83c\udf1a"):s.some((function(e){return e.number===n}))?alert("Contact with this number already exist, please enter another number \ud83d\udcf1"):(l.name!==a&&(o.name=a),l.number!==n&&(o.number=n),c(u.TA.updateContact(o)),void i(!1))},name:t,number:a,submitName:"Save changes",edit:!0})]})}),b)}var w=function(e){var t=e.data,a=t.id,l=t.name,i=t.number,o=(0,n.useState)(!1),c=(0,r.Z)(o,2),m=c[0],g=c[1],x=(0,s.I0)(),p=function(e){g(e)};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("li",{className:"flex items-center justify-between gap-2 rounded-lg border border-gray-300 p-2 drop-shadow-md sm:px-4",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-1 sm:block  sm:gap-2",children:[(0,d.jsx)("p",{className:" block text-xl font-bold leading-7 text-gray-900 sm:truncate sm:text-2xl sm:tracking-tight",children:l}),(0,d.jsx)("span",{className:"text-md block self-center leading-5 text-gray-500 sm:text-xl ",children:i})]}),(0,d.jsxs)("div",{className:" flex flex-col gap-1 sm:flex-row sm:gap-2",children:[(0,d.jsxs)("button",{className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4  py-2 text-sm font-medium text-gray-700 shadow-sm drop-shadow-sm transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",type:"button",onClick:function(){return p(!0)},children:[(0,d.jsx)(f,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500","aria-hidden":"true"}),"Edit"]}),(0,d.jsxs)("button",{className:"inline-flex items-center rounded-md border border-transparent bg-red-600 px-4  py-2 text-sm font-medium text-white shadow-sm drop-shadow-sm transition duration-150 ease-in-out hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",type:"button",onClick:function(){return function(e){x(u.TA.deleteContact(e))}(a)},children:[(0,d.jsx)(h,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Delete"]})]})]}),m&&(0,d.jsx)(v,{name:l,number:i,id:a,onClose:p})]})},y=function(){var e=(0,n.useState)([]),t=(0,r.Z)(e,2),a=t[0],l=t[1],i=(0,s.I0)(),o=(0,s.v9)(u.el.Af),c=(0,s.v9)(u.el.AD);return(0,n.useEffect)((function(){i(u.TA.fetchContacts())}),[i]),(0,n.useEffect)((function(){Number(c)>0?l(o.filter((function(e){return e.number.includes(c)}))):l(o.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())})))}),[o,c]),(0,d.jsx)("ul",{className:"mt-5 flex flex-col gap-5  px-2 sm:px-3",children:a.map((function(e){return(0,d.jsx)(w,{data:e},e.id)}))})},j=a(4808),N=function(){var e=(0,s.v9)(l.AD),t=(0,s.I0)();return(0,d.jsxs)("label",{className:"mt-5 block px-3 text-lg font-medium text-gray-700 ",children:["Find contacts by name",(0,d.jsx)("input",{className:"block w-full rounded-md border border-gray-300 px-4 py-2 leading-6 drop-shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",type:"text",value:e,onChange:function(e){t((0,j.M)(e.target.value))}})]})},C=a(7532);function k(){return(0,d.jsxs)("div",{role:"status",className:"flex  animate-pulse items-center justify-between gap-2 rounded-lg border border-gray-300 p-2 drop-shadow-md sm:p-4",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2 ",children:[(0,d.jsx)("div",{className:" h-6 w-[265px] rounded-full bg-gray-200 dark:bg-gray-700"}),(0,d.jsx)("div",{className:"h-6 w-[220px] rounded-full bg-gray-200 dark:bg-gray-700"})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:gap-2",children:[(0,d.jsx)("div",{className:" h-8 w-[100px] rounded-full bg-gray-200 dark:bg-gray-700 sm:w-[90px]"}),(0,d.jsx)("div",{className:" h-8 w-[100px] rounded-full bg-gray-200 dark:bg-gray-700"})]}),(0,d.jsx)("span",{className:"sr-only",children:"Loading..."})]})}function z(){return(0,d.jsxs)("div",{className:"mt-5 flex flex-col gap-5  px-2 sm:px-3",children:[(0,d.jsx)(k,{}),(0,d.jsx)(k,{}),(0,d.jsx)(k,{}),(0,d.jsx)(k,{}),(0,d.jsx)("span",{className:"sr-only",children:"Loading..."})]})}var E=["title","titleId"];var A=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,s=(0,m.Z)(e,E);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{d:"M11 5a3 3 0 11-6 0 3 3 0 016 0zM2.615 16.428a1.224 1.224 0 01-.569-1.175 6.002 6.002 0 0111.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 018 18a9.953 9.953 0 01-5.385-1.572zM16.25 5.75a.75.75 0 00-1.5 0v2h-2a.75.75 0 000 1.5h2v2a.75.75 0 001.5 0v-2h2a.75.75 0 000-1.5h-2v-2z"}))})),Z=["title","titleId"];var M=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,s=(0,m.Z)(e,Z);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{d:"M17 2.75a.75.75 0 00-1.5 0v5.5a.75.75 0 001.5 0v-5.5zM17 15.75a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0v-1.5zM3.75 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zM4.5 2.75a.75.75 0 00-1.5 0v5.5a.75.75 0 001.5 0v-5.5zM10 11a.75.75 0 01.75.75v5.5a.75.75 0 01-1.5 0v-5.5A.75.75 0 0110 11zM10.75 2.75a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0v-1.5zM10 6a2 2 0 100 4 2 2 0 000-4zM3.75 10a2 2 0 100 4 2 2 0 000-4zM16.25 10a2 2 0 100 4 2 2 0 000-4z"}))})),I="inline-flex items-center drop-shadow-sm border border-transparent px-4 py-2 text-sm font-medium text-white transition duration-150 ease-in-out hover:bg-indigo-700 focus:bg-indigo-700 focus:outline-none focus:ring-0 active:bg-indigo-800";function F(e){var t=e.active,a=e.handleClick;return(0,d.jsx)("div",{className:"mt-5 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"inline-flex shadow-md hover:shadow-lg focus:shadow-lg",role:"group",children:[(0,d.jsxs)("button",{type:"button",onClick:function(){return a(1)},className:"".concat(1===t?"bg-indigo-700":"bg-indigo-500"," ").concat(I," rounded-l-md"),children:[(0,d.jsx)(A,{className:"-ml-1 mr-2 h-5 w-5 ","aria-hidden":"true"}),"Add"]}),(0,d.jsxs)("button",{type:"button",onClick:function(){return a(2)},className:"".concat(2===t?"bg-indigo-700":"bg-indigo-500"," ").concat(I," rounded-r-md"),children:[(0,d.jsx)(M,{className:"-ml-1 mr-2 h-5 w-5 ","aria-hidden":"true"}),"Filter"]})]})})}function R(){var e=(0,n.useState)(0),t=(0,r.Z)(e,2),a=t[0],i=t[1],o=(0,s.v9)(l.xU),u=(0,s.v9)(l.zh);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("section",{children:[(0,d.jsx)(F,{active:a,handleClick:function(e){return 1===a&1===e||2===a&2===e?i(0):void i(e)}}),1===a&&(0,d.jsx)(C.Z,{children:(0,d.jsx)(c,{})}),2===a&&(0,d.jsx)(C.Z,{children:(0,d.jsx)(N,{})}),(0,d.jsxs)(C.Z,{children:[o&&!u&&(0,d.jsx)(z,{}),u&&(0,d.jsxs)("p",{className:"text-md mt-4 self-center text-center leading-5 text-gray-500 sm:text-lg",children:["ooops, something went wrong! ",u]}),(0,d.jsx)(y,{})]})]})})}}}]);
//# sourceMappingURL=615.ff06a2e5.chunk.js.map